<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>×¡×™××•×œ×˜×•×¨ ×©×¤×ª ×’×•×£ ×œ×¡×•×›× ×™ ×—×©××™</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* ×¢×™×¦×•×‘ ×›×œ×œ×™ ××©×•×“×¨×’ */
    body {
      font-family: 'Rubik', sans-serif;
      background: linear-gradient(135deg, #e6e9f0, #eef1f5);
      margin: 0;
      padding: 20px;
      direction: rtl;
      text-align: right;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background-color: #fff;
      border-radius: 15px;
      box-shadow: 0 6px 30px rgba(0,0,0,0.15);
      padding: 30px;
      position: relative;
      overflow: hidden;
    }
    header h1 {
      text-align: center;
      margin-bottom: 20px;
      font-size: 2.5em;
      color: #673ab7;
    }
    .mission-briefing h2 {
      color: #8e44ad;
      margin-bottom: 10px;
    }
    .mission-briefing p {
      line-height: 1.6;
      margin-bottom: 15px;
    }
    .agent-status {
      display: flex;
      justify-content: space-around;
      margin: 20px 0;
      background: #f7f7f7;
      padding: 15px;
      border-radius: 10px;
    }
    .status-item {
      text-align: center;
    }
    .status-label {
      font-weight: bold;
      color: #555;
    }
    .status-value {
      font-size: 1.2em;
      margin-top: 5px;
    }
    .agent-avatar {
      text-align: center;
      margin: 20px 0;
    }
    .avatar-face {
      width: 120px;
      height: 120px;
      background: #ddd;
      border-radius: 50%;
      margin: 0 auto 10px;
    }
    .avatar-eyes {
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    .avatar-eye {
      width: 20px;
      height: 20px;
      background: #333;
      border-radius: 50%;
    }
    #mouth {
      width: 60px;
      height: 10px;
      background: #333;
      border-radius: 5px;
      margin: 10px auto;
    }
    .suspicion-meter {
      margin: 20px 0;
      text-align: center;
    }
    .meter-container {
      background: #e0e0e0;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: inset 0 1px 3px rgba(0,0,0,0.2);
      height: 25px;
      margin-bottom: 5px;
    }
    .meter-fill {
      height: 100%;
      background: linear-gradient(90deg, #8e44ad, #9b59b6);
      width: 20%;
      transition: width 0.5s;
    }
    .meter-label {
      font-weight: bold;
      color: #333;
    }
    .game-area {
      background: #f8faff;
      border-radius: 10px;
      padding: 20px;
      box-shadow: inset 0 1px 5px rgba(0,0,0,0.1);
      min-height: 300px;
      position: relative;
      margin-bottom: 20px;
    }
    .level-indicator {
      font-size: 1.5em;
      margin-bottom: 10px;
      color: #8e44ad;
    }
    .scenario p {
      font-size: 1.1em;
      line-height: 1.6;
    }
    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
      justify-content: center;
    }
    .option-btn {
      padding: 12px 20px;
      background: linear-gradient(135deg, #ff7b54, #ff5722);
      color: #fff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1em;
      transition: all 0.3s;
      flex: 1 1 calc(45% - 10px);
      min-width: 180px;
      text-align: center;
      box-shadow: 0 3px 5px rgba(0,0,0,0.1);
    }
    .option-btn:hover {
      background: linear-gradient(135deg, #ff5722, #e64a19);
      transform: translateY(-2px);
      box-shadow: 0 5px 10px rgba(0,0,0,0.15);
    }
    .feedback {
      text-align: center;
      margin: 20px 0;
      padding: 15px;
      border-radius: 8px;
      font-size: 1.1em;
    }
    .feedback.success {
      background: #e8f5e9;
      border-left: 4px solid #4caf50;
    }
    .feedback.failure {
      background: #ffebee;
      border-left: 4px solid #f44336;
    }
    .tip-container {
      margin-top: 10px;
      font-style: italic;
      color: #666;
    }
    /* ××•×“×œ×™× */
    .modal {
      display: none;
      position: fixed;
      z-index: 200;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.7);
    }
    .modal-content {
      background-color: #fff;
      margin: 10% auto;
      padding: 30px;
      border-radius: 15px;
      max-width: 600px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      position: relative;
    }
    .modal-btn {
      padding: 12px 25px;
      background: linear-gradient(135deg, #8e44ad, #673ab7);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      margin-top: 20px;
      transition: all 0.3s;
    }
    .modal-btn:hover {
      background: linear-gradient(135deg, #673ab7, #5e35b1);
      transform: translateY(-2px);
    }
    /* ×¡×’× ×•×Ÿ ××™×•×—×“ ×œ××¡×š ×”×¡×™×•× */
    #game-complete-modal .modal-content.final {
      padding: 40px;
      border: 3px solid #8e44ad;
    }
    #game-complete-modal .modal-content.final h2 {
      font-size: 3em;
      margin-bottom: 20px;
      color: #8e44ad;
    }
    #game-complete-modal .modal-content.final p {
      font-size: 2em;
      font-weight: bold;
      color: #d81b60;
      margin-bottom: 30px;
    }
  </style>
</head>
<body>
  <header>
      <h1>ğŸ•µï¸â€â™‚ï¸ ×¡×™××•×œ×˜×•×¨ ×©×¤×ª ×’×•×£ ×œ×¡×•×›× ×™ ×—×©××™ ğŸ•µï¸â€â™€ï¸</h1>
  </header>
  
  <div class="container">
      <div class="mission-briefing">
          <h2>×ª×“×¨×™×š ××©×™××” ×¡×•×“×™ ×¢×œ×™×•×Ÿ</h2>
          <p>×¡×•×›×Ÿ, ×”××©×™××” ×©×œ×š ×”×™× ×œ×©×œ×•×˜ ×‘××× ×•×ª ×”×”×˜×¢×™×” ×©×œ ×©×¤×ª ×”×’×•×£. ×”×¦×œ×—×ª×š ×ª×œ×•×™×” ×‘×™×›×•×œ×ª×š ×œ×©×“×¨ ×§×•×¨ ×¨×•×— â€“ ×’× ×›×©×‘×œ×™×‘×š ×‘×•×¨×§×¡ ×©×œ ×—×©×“× ×•×ª. ×–×›×¨: ×—×¦×™ ××”××©×™××” ×”×•× ×œ× ×œ×”×™×ª×¤×¡, ×•×”×—×¦×™ ×”×©× ×™ ×”×•× ×œ×”×™×¨××•×ª ×›×œ ×›×š ××•×–×¨ ×©××¤×™×œ×• ×”××¨××” ×™×©××œ "××™ ×–×”?"</p>
      </div>
      
      <div class="agent-status">
          <div class="status-item">
              <div class="status-label">××©×™××”</div>
              <div class="status-value" id="mission-status">×‘×ª×”×œ×™×š</div>
          </div>
          <div class="status-item">
              <div class="status-label">×¨××ª ××™×•×× ×•×ª</div>
              <div class="status-value" id="agent-level">××ª×—×™×œ</div>
          </div>
          <div class="status-item">
              <div class="status-label">×›×™×¡×•×™×™× × ×—×©×¤×•</div>
              <div class="status-value" id="covers-blown">0</div>
          </div>
      </div>
      
      <div class="agent-avatar">
          <div class="avatar-face"></div>
          <div class="avatar-eyes">
              <div class="avatar-eye" id="left-eye"></div>
              <div class="avatar-eye" id="right-eye"></div>
          </div>
          <div class="avatar-mouth" id="mouth"></div>
      </div>
      
      <div class="suspicion-meter">
          <h3>××“×“ ×—×©×“</h3>
          <div class="meter-container">
              <div class="meter-fill" id="suspicion-fill">20%</div>
          </div>
          <div class="meter-label" id="suspicion-label">20%</div>
      </div>
      
      <div class="game-area">
          <div class="level-indicator" id="current-level">×¨××” 1: ×—×“×™×¨×ª ×›×™×ª×”</div>
          <div class="scenario" id="scenario-text">
              <p>××ª×” ×—×©××™ ×‘×›×™×ª×” ×©×œ ×ª×™×›×•×Ÿ. ×”××•×¨×” ××¡×ª×›×œ×ª ×™×©×™×¨×•×ª ×¢×œ×™×š, ×—×•×©×“×ª ×©××•×œ×™ ××™× ×š ×ª×œ××™×“ ×××™×ª×™. ×¢×œ×™×š ×œ×”×™×× ×¢ ××—×©×“.</p>
          </div>
          
          <div class="options" id="options-container">
              <!-- ××¤×©×¨×•×™×•×ª ×™×ª×•×•×¡×¤×• ×‘×××¦×¢×•×ª JavaScript -->
          </div>
          
          <div class="feedback" id="feedback-container">
              <p id="feedback-text"></p>
              <div class="tip-container" id="spy-tip">
                  <strong>×˜×™×¤ ×¡×•×›× ×™:</strong> <span id="tip-text"></span>
              </div>
          </div>
      </div>
  </div>
  
  <!-- ××•×“×œ×™× -->
  <div class="modal" id="level-complete-modal">
      <div class="modal-content">
          <h2 class="modal-title" id="modal-title">×”×¨××” ×”×•×©×œ××”!</h2>
          <p id="modal-text">×”×©×œ××ª ×‘×”×¦×œ×—×” ××ª ×ª×¨×’×™×œ ×”××™××•×Ÿ ×”×–×”.</p>
          <button class="modal-btn" id="next-level-btn">××©×™××” ×”×‘××”</button>
      </div>
  </div>
  
  <div class="modal" id="game-over-modal">
      <div class="modal-content">
          <h2 class="modal-title">×”××©×™××” × ×›×©×œ×”!</h2>
          <p id="game-over-text">×”×›×™×¡×•×™ ×©×œ×š × ×—×©×£. ×–×”×• ×”×–××Ÿ ×œ×©×§×•×œ ××—×“×© ××ª ×”×’×™×©×” ×©×œ×š.</p>
          <button class="modal-btn" id="restart-btn">×”×ª×—×œ ××—×“×© ××ª ×”××™××•×Ÿ</button>
      </div>
  </div>
  
  <div class="modal" id="game-complete-modal">
      <div class="modal-content final">
          <h2>×”××™××•×Ÿ ×”×•×©×œ×!</h2>
          <p>×–×›×™×ª ×‘×‘×•×©×ª ×¤× ×™× ×•××“×œ×™×™×” ×temu!</p>
          <button class="modal-btn" id="restart-game-btn">×”×ª×—×œ ××—×“×© ××ª ×”××™××•×Ÿ</button>
      </div>
  </div>
  
  <script>
      // ××¦×‘ ×”××©×—×§
      const gameState = {
          suspicionLevel: 20,
          currentLevel: 1,
          maxLevel: 5,
          coversBlown: 0,
          agentLevel: "××ª×—×™×œ"
      };
      
      // ×ª×¨×—×™×©×™ ×”××©×—×§ ×•××¤×©×¨×•×™×•×ª
      const gameLevels = [
          {
              title: "×¨××” 1: ×—×“×™×¨×ª ×›×™×ª×”",
              scenario: "××ª×” ×—×©××™ ×‘×›×™×ª×” ×©×œ ×ª×™×›×•×Ÿ. ×”××•×¨×” ××¡×ª×›×œ×ª ×™×©×™×¨×•×ª ×¢×œ×™×š, ×—×•×©×“×ª ×©××•×œ×™ ××™× ×š ×ª×œ××™×“ ×××™×ª×™. ×¢×œ×™×š ×œ×”×™×× ×¢ ××—×©×“.",
              options: [
                  {
                      text: "×©××•×¨ ×¢×œ ×§×©×¨ ×¢×™×Ÿ ×¨×’×•×¢ ×¢× ×”×¤×¡×§×•×ª ×˜×‘×¢×™×•×ª ×•×ª×¢××•×“ ×›××™×œ×• ××ª×” ×¨×•×©× ×”×¢×¨×•×ª",
                      result: "××•×©×œ×! ×”××•×¨×” ×©× ×œ×‘ ×œ×”×ª× ×”×’×•×ª×š ×”××¢×•×¨×‘×ª ××š ×”×˜×‘×¢×™×ª. ××¤×™×œ×• ×× ×‘××•×—×š ××ª×’× ×‘×ª ×”×•××•×¨ ×©×—×•×¨, ×”×—×•×¥ × ×¨××” ××§×¦×•×¢×™.",
                      suspicionChange: -15,
                      success: true,
                      tip: "×”×ª× ×”×’×•×ª ××•×ª× ×˜×™×ª ×”×™× ×”××¤×ª×— â€“ ×œ× ×œ×”×™×¨××•×ª ×›××• ×¤×¡×œ."
                  },
                  {
                      text: "×”×‘×˜ ×‘×¢×™× ×™×™× ××™× ×˜× ×¡×™×‘×™×•×ª ×‘×œ×™ ×œ×”×‘×”×‘ ×›×“×™ ×œ×”×¨××•×ª ×¢×œ×™×•× ×•×ª",
                      result: "××•×™, ×”××•×¨×” × ×¨××™×ª ×›××™×œ×• × ×ª×§×œ×” ×‘××¨××” ××§×¨×™××”. ×–×” ×‘×”×—×œ×˜ ×œ× ×ª×“××™×ª ×ª×œ××™×“×™×ª.",
                      suspicionChange: 25,
                      success: false,
                      tip: "××‘×˜ ××™× ×˜× ×¡×™×‘×™ ×‘×œ×™ ×”×¤×¡×§×•×ª ××•×©×š ×—×©×“. ×§×¦×ª ×× ×•×©×™×•×ª ×œ× ××–×™×§×”."
                  },
                  {
                      text: "×”×¡×ª×›×œ ×œ××˜×” ×¢×œ ×”×©×•×œ×—×Ÿ ×•×”×™×× ×¢ ××›×œ ×§×©×¨ ×¢×™×Ÿ",
                      result: "×”××•×¨×” ×—×•×©×“×ª ×©××¡×ª×ª×¨ ×¡×•×“ ××¤×œ. ×”×™×× ×¢×•×ª ××•×—×œ×˜×ª ××§×©×¨ ×¢×™×Ÿ ×¢×œ×•×œ×” ×œ×”×™×¨××•×ª ×—×©×•×“×”.",
                      suspicionChange: 15,
                      success: false,
                      tip: "××™×–×•×Ÿ ×”×•× ×”××¤×ª×— â€“ ×œ× ×œ×’×–×•×œ ××ª ×›×œ ×”×§×©×¨ ×”×¢×™×Ÿ."
                  },
                  {
                      text: "×©×§×£ ×‘×¢×“×™× ×•×ª ××ª ×©×¤×ª ×”×’×•×£ ×©×œ ×”××•×¨×” ×ª×•×š ×”×‘×¢×ª ×¢× ×™×™×Ÿ",
                      result: "××”×œ×š ×—×›×! ×”××•×¨×” ××¨×’×™×©×” ×§×¨×‘×” ×ª×ª-××•×“×¢×ª ×•××ª×” ×××©×™×š ×‘×¡×’× ×•×Ÿ ××¨×’×œ ×××™×ª×™.",
                      suspicionChange: -10,
                      success: true,
                      tip: "×”×¢×ª×§×ª ×©×¤×ª ×’×•×£ ×™×›×•×œ×” ×œ×™×¦×•×¨ ×—×™×‘×•×¨ â€“ ×¨×§ ××œ ×ª×¢×©×” ×–××ª ×‘×¦×•×¨×” ×‘×•×œ×˜×ª ××“×™."
                  }
              ]
          },
          {
              title: "×¨××” 2: ×—×“×¨ ×—×§×™×¨×”",
              scenario: "×”×•×‘××• ××•×ª×š ×œ×¨××™×•×Ÿ. ×× ×”×œ ×‘×™×ª ×”×¡×¤×¨ ×—×•×©×“ ×©×”×™×™×ª ××¢×•×¨×‘ ×‘××§×¨×” ×ª×•×¦××•×ª ×”××‘×—×Ÿ ×”××‘×•×“×•×ª. ×©××•×¨ ×¢×œ ×›×™×¡×•×™ ×”×–×”×•×ª ×©×œ×š ×‘×–××Ÿ ×”×¨××™×•×Ÿ.",
              options: [
                  {
                      text: "×¦×œ×‘ ××ª ×™×“×™×š ×‘×¦×•×¨×” ××’×•× × ×ª ×•×“×‘×¨ ×‘×‘×™×˜×—×•×Ÿ",
                      result: "×”×× ×”×œ ×©× ×œ×‘ ×œ×©×¤×ª ×”×’×•×£ ×”×¡×’×•×¨×” ×©×œ×š ×©×× ×•×’×“×ª ×œ×“×™×‘×•×¨×š ×”×‘×˜×•×— â€“ ×–×” ××¢×•×¨×¨ ×¡×™×× ×™ ××–×”×¨×”.",
                      suspicionChange: 20,
                      success: false,
                      tip: "×”×ª×× ××ª ×©×¤×ª ×”×’×•×£ ×œ×“×™×‘×•×¨ â€“ ×™×“×™×™× ××¦×˜×œ×‘×•×ª ×¢×œ×•×œ×•×ª ×œ×”×™×¨××•×ª ×—×©×•×“×•×ª."
                  },
                  {
                      text: "×”×©××¨ ××ª ×™×“×™×š ×’×œ×•×™×™×, ×”×ª×›×•×¤×£ ××¢×˜ ×§×“×™××”, ×•×“×‘×¨ ×‘×§×¦×‘ ××“×•×“",
                      result: "×‘×—×™×¨×” ××¦×•×™× ×ª! ×›×¤×•×ª ×”×™×“×™×™× ×”×¤×ª×•×—×•×ª ×•×”× ×˜×™×™×” ×§×“×™××” ××¦×™×’×•×ª ×›× ×•×ª ×•××¢×•×¨×‘×•×ª.",
                      suspicionChange: -20,
                      success: true,
                      tip: "×™×“×™×™× ×’×œ×•×™×•×ª ××¢×™×“×•×ª ×¢×œ ×××™× ×•×ª â€“ ×’× ×× ××ª×” ××¨×’×™×© ×›××™×œ×• ××ª×” ×‘×™×©×™×‘×ª ×™×•×’×” ×—×©××™×ª."
                  },
                  {
                      text: "×¢×¦×‘×Ÿ ××ª ×¢×¦××š ×•×“×‘×¨ ×‘××”×™×¨×•×ª ×›×“×™ ×œ×”×™×¨××•×ª × ×¨×’×© ××š ×ª××™×",
                      result: "×”×× ×”×œ ×œ× ××¦×œ×™×— ×œ×”×—×œ×™×˜ ×× ××ª×” ×˜×‘×¢×™ ××• ××¡×ª×™×¨ ××©×”×• â€“ ×”××•×•×™×¨×” ×§×¦×ª ××ª×•×—×”.",
                      suspicionChange: 5,
                      success: false,
                      tip: "×”×ª×œ×”×‘×•×ª ××•×’×–××ª ×¢×œ×•×œ×” ×œ×”×“×’×™×© ×—×•×¡×¨ × ×•×—×•×ª, ×œ× ×ª××™×“ ×”×“×‘×¨ ×”× ×›×•×Ÿ."
                  },
                  {
                      text: "×”×ª×× ××ª ×“×¤×•×¡ ×”× ×©×™××” ×©×œ×š ×œ×–×• ×©×œ ×”×× ×”×œ ×œ×™×¦×™×¨×ª ×¡×™× ×›×¨×•×Ÿ ×¤×¡×™×›×•×œ×•×’×™",
                      result: "××”×œ×š ×—×›×! ×¡×™× ×›×¨×•×Ÿ ×”× ×©×™××” ×™×•×¦×¨ ×—×™×‘×•×¨ ×ª×ª-××•×“×¢ ×•×××•×Ÿ ×‘×œ×ª×™ ××•×¡×‘×¨.",
                      suspicionChange: -15,
                      success: true,
                      tip: "×¡×™× ×›×¨×•×Ÿ × ×©×™××ª×™ ×™×›×•×œ ×œ×”×¨×’×™×¢ â€“ ××š ××œ ×ª×”×¤×•×š ×¨×•×‘×•×˜ ×××™×ª×™."
                  }
              ]
          },
          {
              title: "×¨××” 3: ×”××‘×—×Ÿ ×”×¡×•×¤×™",
              scenario: "××ª×” ×‘××™×¨×•×¢ ×¡×˜×•×“× ×˜×™×, ×‘×™×Ÿ ××•×¨×™× ×œ×¡×•×›× ×™× ×—×©×•×“×™×. ×”×©×ª×œ×‘ ×‘×§×œ×™×œ×•×ª ×ª×•×š ×—×™×œ×•×¥ ××™×“×¢ ×¢×œ ×”××‘×—×Ÿ ×”×§×¨×•×‘.",
              options: [
                  {
                      text: "×”×©×ª××© ×‘×’×•×£ ×¤×ª×•×— ×›×©××ª×” ××“×‘×¨ ×¢× ×”××•×¨×™× ×•×©××•×¨ ×¢×œ ×ª× ×•×—×” ×¨×’×•×¢×” ×¢× ×”×¡×˜×•×“× ×˜×™×",
                      result: "×‘×™×¦×•×¢ ××•×©×œ×! ×›×•×œ× ××¨×’×™×©×™× ×©××ª×” ××©×ª×™×™×š ×œ×§×‘×•×¦×” â€“ ×’× ×× ××ª×” ××ª×›× ×Ÿ ×œ×¨×•×¥ ×œ×××œ×›×” ××—×¨×ª ×‘×¨×’×¢ ×©×”×©×¢×•×Ÿ ××¦×œ×¦×œ.",
                      suspicionChange: -25,
                      success: true,
                      tip: "×”×ª×××ª ×©×¤×ª ×”×’×•×£ ×œ×¡×‘×™×‘×” ×™×•×¦×¨×ª ××•×•×™×¨×” ×˜×‘×¢×™×ª â€“ ×¨×§ ××œ ×ª×¢×©×” ××ª ×–×” ×›××™×œ×• ××ª×” ×‘××¡×™×‘×ª ×ª×—×¤×•×©×•×ª."
                  },
                  {
                      text: "×©××•×¨ ×¢×œ ×”×‘×¢×” × ×™×˜×¨×œ×™×ª ×•×ª× ×•×¢×•×ª ××™× ×™××œ×™×•×ª",
                      result: "×”×©×§×˜ ×©×œ×š ××“×‘×¨ ×‘×¢×“ ×¢×¦××• â€“ ××š ×›××” ×× ×©×™× ×—×©×“×• ×©××ª×” '××™× ×˜× ×¡×™×‘×™' ××“×™.",
                      suspicionChange: 15,
                      success: false,
                      tip: "×œ×¤×¢××™× ×©×§×˜ ××•×—×œ×˜ ××•×©×š ×ª×©×•××ª ×œ×‘. ×’× ×¡×•×›×Ÿ ×¦×¨×™×š ×œ×–×•×– ×§×¦×ª."
                  },
                  {
                      text: "×”×©×ª××© ×‘××’×¢ ××¡×˜×¨×˜×’×™ â€“ × ×’×™×¢×” ×§×¦×¨×” ×‘×›×ª×£ ×‘×–××Ÿ ×”×¦×’×ª × ×§×•×“×•×ª ×—×©×•×‘×•×ª",
                      result: "××’×¢ ××¡×˜×¨×˜×’×™ ×™×•×¦×¨ ×§×¨×‘×” ××™×™×“×™×ª â€“ ×××© ×›××• ×§×¡× ×©×—×•×¨ ×©×œ ×××•×Ÿ.",
                      suspicionChange: -20,
                      success: true,
                      tip: "××’×¢ ×¢×“×™×Ÿ ×™×›×•×œ ×œ×©×‘×•×¨ ××ª ×”×§×¨×— â€“ ×¨×§ ××œ ×ª× ×¡×” ×œ×”×¤×•×š ××ª ×–×” ×œ×˜×¢×™××ª × ×’×™×¢×•×ª ×¤×¨×•×¢×”."
                  },
                  {
                      text: "×¦×—×§ ×‘×§×•×œ ×¨× ×¢×œ ×›×œ ×”×‘×“×™×—×•×ª ×•×”×™×” ××œ× ×× ×¨×’×™×”",
                      result: "×”×”×ª×œ×”×‘×•×ª ×”××•×¤×¨×–×ª ×©×œ×š ×”×¢×œ×ª×” ××ª ×¨××ª ×”×—×©×“ â€“ × ×¨××” ×›××™×œ×• ×™×¦××ª ×œ×”×•×¤×¢×ª ×¡×˜× ×“-××¤ ×‘×××¦×¢ ×©×™×¢×•×¨.",
                      suspicionChange: 30,
                      success: false,
                      tip: "×œ×”×™×•×ª ×˜×‘×¢×™ ×”×•× ×”××¤×ª×— â€“ ×”×ª×œ×”×‘×•×ª ××•×’×–××ª ×¢×œ×•×œ×” ×œ×”×¤×•×š ××•×ª×š ×œ×”×•×¤×¢×” ××•×–×¨×”."
                  }
              ]
          },
          {
              title: "×¨××” 4: ××¡×™×‘×ª ×¡×•×›× ×™×",
              scenario: "×”×’×¢×ª ×œ××¡×™×‘×ª ×¢×œ-×’×’ ×—×©××™×ª, ×‘×™×Ÿ ×¡×•×›× ×™× ×©××ª×—×¨×™× ×‘××œ×’× ×˜×™×•×ª. ×›××Ÿ, ×’× ×× ×”×œ×‘ ×©×œ×š ×“×•×¤×§ ×›××™×œ×• ×”×•× ×‘××¨×“×£, ×¦×¨×™×š ×œ×”×™×¨××•×ª ×§×¨ ×•××¡×ª×•×¨×™ â€“ ××• ×œ×¤×—×•×ª ×œ× ×œ×”×™×¨××•×ª ×›××• ××™×©×”×• ×©×©×¨×•×™ ×‘×‘×¨×™×™×§×“××•× ×¡.",
              options: [
                  {
                      text: "×¨×§×•×“ ×¨×™×§×•×“ ××˜×•×¨×£ ×©××©×œ×‘ ×ª× ×•×¢×•×ª ×œ× ××ª×•×××•×ª",
                      result: "×”××•×™×‘×™× ×¦×—×§×• ×¢×“ ×›××‘ ×‘×˜×Ÿ â€“ ×›× ×¨××” ×©×”× ×œ× ××¦×¤×™× ×××š ×œ×”×™×•×ª '×××Ÿ' ×¨×™×§×•×“×™×.",
                      suspicionChange: 20,
                      success: false,
                      tip: "×œ× ×›×œ ×¨×™×§×•×“ ×”×•× ××× ×•×ª â€“ ×œ×¤×¢××™× ×¤×—×•×ª ×–×” ×™×•×ª×¨."
                  },
                  {
                      text: "×©××•×¨ ×¢×œ ×–×•×•×™×ª ×§×¤×•××” ×•××¡×ª×•×¨×™×ª, ×›××™×œ×• × ×©××ª×š × ×©×œ×—×” ×××¡×’×“ ×—×©××™",
                      result: "××¦×•×™×Ÿ! ××£ ××—×“ ×œ× ×™×¢×œ×” ×¢×œ × ×¡ ×›×©××ª×” × ×¨××” ×›××™×œ×• ×›×œ ×”×¡×•×“×•×ª ×©×œ×š × ×—×ª××• ×‘×—×•×©×š.",
                      suspicionChange: -15,
                      success: true,
                      tip: "××¡×ª×•×¨×™×Ÿ ×”×•× ×›×œ×™ ×¢×•×¦××ª×™ â€“ ×§×¦×ª ×¤×—×•×ª ×—×™×•×›×™×, ×§×¦×ª ×™×•×ª×¨ ×”Ö´×¡Ö°×ªÖ¼×•Ö¹×¨."
                  },
                  {
                      text: "×¢×•×¨×¨ ×¤×¨×•×‘×•×§×¦×™×” ×¢× ×—×™×•×š ×§×˜×Ÿ ×•××‘×˜ ×××œ××œ",
                      result: "×”×—×™×•×š ×©×œ×š ×”×™×” ×—×¨×™×£ ××“×™ â€“ ×›××™×œ×• ××ª×” ××¦×™×¢ ×¡× ×“×•×•×™×¥' ×œ×œ× ××™×œ×•×™, ×•×”××•×•×™×¨×” × ×©××¨×” ××ª×•×§×” ××“×™.",
                      suspicionChange: 10,
                      success: false,
                      tip: "×¤×¨×•×‘×•×§×¦×™×” ×¢×“×™× ×” ×™×›×•×œ×” ×œ×¢×–×•×¨, ××š ××œ ×ª×’×–×™× ×¢× ×”×”×•××•×¨."
                  },
                  {
                      text: "×”×¢×ª×§ ××ª ×ª× ×•×¢×•×ª ×”×’×•×£ ×©×œ ×”×¡×•×‘×‘×™× ××•×ª×š ×‘××œ×•× ×”×”×ª××“×”",
                      result: "××¢×•×œ×”! ××ª×” ××ª××–×’ ×¢× ×”×§×”×œ ×¢×“ ×›×“×™ ×›×š ×©××£ ××—×“ ×œ× ××‘×—×™×Ÿ â€“ ×›××¢×˜ ×›××• ×”×•×¤×¢×ª ××¨××” ×× ×•×©×™×ª.",
                      suspicionChange: -10,
                      success: true,
                      tip: "×¡× ×›×¨×•×Ÿ ×¢× ×”×¡×‘×™×‘×” ×™×›×•×œ ×œ×”×¤×—×™×ª ×—×©×“ â€“ ×¨×§ ××œ ×ª×©×›×— ×œ×”×™×•×ª ×¢×¦××š (××• ×œ×¤×—×•×ª ×’×¨×¡×” ××ª×•×—×›××ª ×©×œ×š)."
                  }
              ]
          },
          {
              title: "×¨××” 5: ×”××ª×’×¨ ×”×¡×•×¤×™",
              scenario: "×”×’×¢×ª ×œ×œ×‘ ×”××‘×¦×¨ ×©×œ ×™×¨×™×‘×š â€“ ×©× ×× ×”×™×’ ××¡×ª×•×¨×™ ××¦×¤×” ×œ×¨××™×•×Ÿ ×’×•×¨×œ×™. ×”×¦×œ×—×” ×ª×œ×•×™×” ×‘×¨××ª ×”×©×›× ×•×¢ ×©×œ×š, ×’× ×× ×–×” ××•××¨ ×œ×”×¤×¢×™×œ ×§×¦×ª ×§×¡× ×©×—×•×¨ ×‘×©×¤×ª ×”×’×•×£.",
              options: [
                  {
                      text: "×”×©×ª××© ×‘×‘×™×˜×—×•×Ÿ ××œ× ×•×“×‘×¨ ×¢× ×ª× ×•×¢×•×ª ×¨×™×§×•×“ × ×•×¢×–×•×ª",
                      result: "×”×¤×¦×¦×ª ×”×›×œ! ××š ×”××•×™×‘×™× ×—×©×‘×• ×©××“×•×‘×¨ ×‘×”×¤×’× ×” ×ª×¨×‘×•×ª×™×ª â€“ ×”×—×©×“ ×¨×§ ×¢×œ×”.",
                      suspicionChange: 30,
                      success: false,
                      tip: "×‘×™×˜×—×•×Ÿ ×–×” ×˜×•×‘, ××š ×™×•×ª×¨ ××“×™ ×¢×œ×•×œ ×œ×”×™×¨××•×ª ×›××• ××•×¤×¢ ×§×•××™×§×¡×™."
                  },
                  {
                      text: "×©××•×¨ ×¢×œ × ×™× ×•×—×•×ª ××ª×•×—×›××ª, ×”×§×©×‘ ×•×”×ª×‘×˜× ×‘×§×¦×‘ ××“×•×“",
                      result: "× ×”×“×¨! ×”× ×™× ×•×—×•×ª ×©×œ×š ×–×›×ª×” ×œ×”×¢×¨×›×”, ×’× ×× × ×¨××• ×›××™×œ×• ××ª×” ××ª×¢×›×‘ ×¢×œ ××—×©×‘×•×ª ×¡×•×“×™×•×ª.",
                      suspicionChange: -20,
                      success: true,
                      tip: "×§×¦×‘ ××“×•×“ ×™×›×•×œ ×œ×”×¨×’×™×¢ â€“ ×›××• ××“×™×˜×¦×™×” ×—×©××™×ª ×‘××©×¨×“ ×—×©××™."
                  },
                  {
                      text: "×”×–×“×¨×– ×œ×¢× ×•×ª ×¢× ×ª×’×•×‘×•×ª ×—×“×•×ª, ×’× ×× ×”×Ÿ × ×¨××•×ª ××‘×¨×™×§×•×ª ××“×™",
                      result: "××•×™, ×–×” ×”×™×” ×›××• ×¡×™×¡××” ×©×‘×¨×•×¨ ×©×”×™× × ×¡×ª×¨×” â€“ × ×—×¨×¥ ××š ××¢×•×¨×¨ ×—×©×“.",
                      suspicionChange: 15,
                      success: false,
                      tip: "×—×“×•×ª ×‘×”×—×œ×˜ ××“×‘×¨×ª, ××š ×™×•×ª×¨ ××“×™ ×¢×œ×•×œ×” ×œ×—×©×•×£ ××•×ª×š."
                  },
                  {
                      text: "×”×“×’× ××ª ×›×œ ×˜×›× ×™×§×•×ª ×”×”×˜×¢×™×” ×©×œ××“×ª ×•×©×“×¨ ×©×¤×ª ×’×•×£ ×¡×•×—×¤×ª ×‘×›×œ ××©×¤×˜",
                      result: "××”×œ×š ×’××•× ×™! ×”×¦×œ×—×ª ×œ×©×›× ×¢ ××ª ×›×•×œ× â€“ ×•××¤×™×œ×• ×¢×¦××š â€“ ×¢×“ ×©×›××¢×˜ ××™× ×š × ×¨××”, ×›××• ×¦×œ ×‘××¢××§×™ ×”×—×©××™×•×ª.",
                      suspicionChange: -25,
                      success: true,
                      tip: "×œ×‘×¡×•×£, ×›×œ ××” ×©×œ××“×ª ××©×ª×œ× â€“ ×”××©×š ×‘×©×™×˜×” ×–×• ×•×©××•×¨ ×¢×œ ×¡×•×“×™×•×ª ×‘×œ×ª×™ × ×¨××™×ª."
                  }
              ]
          }
      ];
      
      // ××œ×× ×˜×™× ××”-DOM
      const suspicionFill = document.getElementById("suspicion-fill");
      const suspicionLabel = document.getElementById("suspicion-label");
      const scenarioText = document.getElementById("scenario-text");
      const optionsContainer = document.getElementById("options-container");
      const feedbackContainer = document.getElementById("feedback-container");
      const feedbackText = document.getElementById("feedback-text");
      const tipText = document.getElementById("tip-text");
      const currentLevelIndicator = document.getElementById("current-level");
      const levelCompleteModal = document.getElementById("level-complete-modal");
      const gameOverModal = document.getElementById("game-over-modal");
      const gameCompleteModal = document.getElementById("game-complete-modal");
      const nextLevelBtn = document.getElementById("next-level-btn");
      const restartBtn = document.getElementById("restart-btn");
      const restartGameBtn = document.getElementById("restart-game-btn");
      const missionStatus = document.getElementById("mission-status");
      const agentLevelElem = document.getElementById("agent-level");
      const coversBlown = document.getElementById("covers-blown");
      const modalTitle = document.getElementById("modal-title");
      const modalText = document.getElementById("modal-text");
      const gameOverText = document.getElementById("game-over-text");
      
      // ××œ×× ×˜×™× ×œ××•×•×˜××¨
      const leftEye = document.getElementById("left-eye");
      const rightEye = document.getElementById("right-eye");
      const mouth = document.getElementById("mouth");
      
      // ××ª×—×•×œ ×”××©×—×§
      function initGame() {
          gameState.suspicionLevel = 20;
          gameState.currentLevel = 1;
          gameState.coversBlown = 0;
          gameState.agentLevel = "××ª×—×™×œ";
          loadLevel();
          updateUI();
      }
      
      // ×˜×¢×™× ×ª ×”×¨××” ×”× ×•×›×—×™×ª
      function loadLevel() {
          const level = gameLevels[gameState.currentLevel - 1];
          currentLevelIndicator.textContent = level.title;
          
          // ×”×’×“×¨×ª ×˜×§×¡×˜ ×”×ª×¨×—×™×©
          const scenarioP = document.createElement("p");
          scenarioP.textContent = level.scenario;
          scenarioText.innerHTML = "";
          scenarioText.appendChild(scenarioP);
          
          // ×™×¦×™×¨×ª ×›×¤×ª×•×¨×™ ××¤×©×¨×•×™×•×ª
          optionsContainer.innerHTML = "";
          level.options.forEach((option, index) => {
              const button = document.createElement("button");
              button.className = "option-btn";
              button.textContent = option.text;
              button.onclick = () => selectOption(index);
              optionsContainer.appendChild(button);
          });
          
          // ×”×¡×ª×¨×ª ×”××©×•×‘
          feedbackContainer.style.display = "none";
      }
      
      // ×‘×—×™×¨×ª ××¤×©×¨×•×ª
      function selectOption(index) {
          const level = gameLevels[gameState.currentLevel - 1];
          const option = level.options[index];
          
          // ×¢×“×›×•×Ÿ ×¨××ª ×”×—×©×“
          gameState.suspicionLevel += option.suspicionChange;
          if (gameState.suspicionLevel < 0) gameState.suspicionLevel = 0;
          if (gameState.suspicionLevel > 100) gameState.suspicionLevel = 100;
          
          // ×”×¦×’×ª ××©×•×‘
          feedbackText.textContent = option.result;
          tipText.textContent = option.tip;
          feedbackContainer.className = "feedback " + (option.success ? "success" : "failure");
          feedbackContainer.style.display = "block";
          
          // ×”×©×‘×ª×ª ×›×¤×ª×•×¨×™ ×”××¤×©×¨×•×™×•×ª
          const buttons = optionsContainer.querySelectorAll(".option-btn");
          buttons.forEach(btn => {
              btn.disabled = true;
              btn.style.opacity = 0.6;
          });
          
          // ×¢×“×›×•×Ÿ ×××©×§ ×”××©×ª××©
          updateUI();
          
          // ×¢×“×›×•×Ÿ ×”×‘×¢×•×ª ×”××•×•×˜××¨ ×œ×¤×™ ×”×¦×œ×—×”/×›×™×©×œ×•×Ÿ
          updateAvatar(option.success);
          
          // ×‘×“×™×§×ª ××¦×‘ ×”××©×—×§ ×œ××—×¨ ×¢×™×›×•×‘
          setTimeout(() => checkGameStatus(), 2000);
      }
      
      // ×¢×“×›×•×Ÿ ×”×‘×¢×•×ª ×”××•×•×˜××¨
      function updateAvatar(success) {
          if (success) {
              leftEye.style.transform = "scale(1)";
              rightEye.style.transform = "scale(1)";
              mouth.style.height = "10px";
              mouth.style.borderRadius = "5px 5px 10px 10px";
          } else {
              leftEye.style.transform = "scale(1.2)";
              rightEye.style.transform = "scale(1.2)";
              mouth.style.height = "5px";
              mouth.style.borderRadius = "5px";
          }
      }
      
      // ××™×¤×•×¡ ×”××•×•×˜××¨ ×œ××¦×‘ × ×™×™×˜×¨×œ×™
      function resetAvatar() {
          leftEye.style.transform = "scale(1)";
          rightEye.style.transform = "scale(1)";
          mouth.style.height = "10px";
          mouth.style.borderRadius = "5px";
      }
      
      // ×¢×“×›×•×Ÿ ×××©×§ ×”××©×ª××©
      function updateUI() {
          suspicionFill.style.width = gameState.suspicionLevel + "%";
          suspicionLabel.textContent = gameState.suspicionLevel + "%";
          
          // ×¢×“×›×•×Ÿ ×¡×˜×˜×•×¡
          coversBlown.textContent = gameState.coversBlown;
          
          // ×¢×“×›×•×Ÿ ×¨××ª ×”×¡×•×›×Ÿ ×œ×¤×™ ×”×ª×§×“××•×ª
          if (gameState.currentLevel === 1) {
              gameState.agentLevel = "××ª×—×™×œ";
          } else if (gameState.currentLevel === 2) {
              gameState.agentLevel = "×¡×•×›×Ÿ ×‘×©×˜×—";
          } else if (gameState.currentLevel === 3) {
              gameState.agentLevel = "××¨×’×œ ×¢×œ×™×•×Ÿ";
          } else if (gameState.currentLevel === 4) {
              gameState.agentLevel = "×¡×•×›×Ÿ ××¡×ª×•×¨×™";
          } else {
              gameState.agentLevel = "××’×“×” ×—×©××™×ª";
          }
          
          agentLevelElem.textContent = gameState.agentLevel;
      }
      
      // ×‘×“×™×§×ª ××¦×‘ ×”××©×—×§
      function checkGameStatus() {
          if (gameState.suspicionLevel >= 100) {
              // ×¡×™×•× ×”××©×—×§ - ×—×©×“ ××•×’×‘×¨
              gameState.coversBlown++;
              coversBlown.textContent = gameState.coversBlown;
              gameOverText.textContent = `×”×›×™×¡×•×™ ×©×œ×š × ×—×©×£ ${gameState.coversBlown} ×¤×¢×. ××•×œ×™ ×”×’×™×¢ ×”×–××Ÿ ×œ×©×§×•×œ ××—×“×© ××ª ×”×’×™×©×” ×©×œ×š?`;
              gameOverModal.style.display = "flex";
          } else if (gameState.suspicionLevel <= 10) {
              // ×¡×™×•× ×¨××” - ×—×©×“ × ××•×š ×××•×“
              if (gameState.currentLevel === gameState.maxLevel) {
                  // ×¡×™×•× ×”××©×—×§
                  gameCompleteModal.style.display = "flex";
              } else {
                  // ××¢×‘×¨ ×œ×¨××” ×”×‘××”
                  modalTitle.textContent = "×”×¨××” ×”×•×©×œ××”!";
                  modalText.textContent = `×›×œ ×”×›×‘×•×“, ×¡×•×›×Ÿ! ×¨××ª ×”×—×©×“ ×©×œ×š ×”×™× ×¨×§ ${gameState.suspicionLevel}%. × ×¨××” ×©××ª×” ××•×›×Ÿ ×œ××ª×’×¨ ×”×‘×.`;
                  levelCompleteModal.style.display = "flex";
              }
          } else {
              // ×¡×™×•× ×¨××” - ×”×ª×§×“××•×ª × ×•×¨××œ×™×ª
              if (gameState.currentLevel === gameState.maxLevel) {
                  // ×¡×™×•× ×”××©×—×§
                  gameCompleteModal.style.display = "flex";
              } else {
                  modalTitle.textContent = "×”×¨××” ×”×•×©×œ××”";
                  modalText.textContent = `×”××©×™××” ×”×¡×ª×™×™××” ×¢× ×¨××ª ×—×©×“ ×©×œ ${gameState.suspicionLevel}%. ×œ× ××•×©×œ×, ××‘×œ ×”×¦×œ×—×ª ×œ×©××•×¨ ×¢×œ ×”×›×™×¡×•×™ (×œ×¤×—×•×ª ×‘××•×¤×Ÿ ×—×œ×§×™).`;
                  levelCompleteModal.style.display = "flex";
              }
          }
      }
      
      // ×××–×™× ×™× ×œ××™×¨×•×¢×™×
      nextLevelBtn.addEventListener("click", () => {
          levelCompleteModal.style.display = "none";
          gameState.currentLevel++;
          resetAvatar();
          loadLevel();
      });
      
      restartBtn.addEventListener("click", () => {
          gameOverModal.style.display = "none";
          gameState.suspicionLevel = 20;
          resetAvatar();
          loadLevel();
      });
      
      restartGameBtn.addEventListener("click", () => {
          gameCompleteModal.style.display = "none";
          initGame();
      });
      
      // ×”×ª×—×œ×ª ×”××©×—×§
      initGame();
  </script>
</body>
</html>
